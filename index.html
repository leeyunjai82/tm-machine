<!DOCTYPE html>
<html lang="ko">
<head>
    <link rel="stylesheet" href="static/index.css">
    <script src="static/jszip.min.js"></script>
    <script src="static/tf.min-3.11.0.js"></script>
</head>
<body>
    <div class="container">
        <!-- Sidebar for class management -->
        <div class="sidebar">
            <h2>클래스 관리</h2>
            <div id="class-management">
                <input type="text" id="class-name" placeholder="클래스 이름을 입력하세요" onkeydown="if (event.key === 'Enter') addClass()">
                <button onclick="addClass()">클래스 추가</button>
            </div>
            <div id="class-list">
                <!-- Dynamically added classes and image collections will appear here -->
            </div>
        </div>

        <!-- Main content for camera and model operations -->
        <div class="main-content">
            <!-- Camera Feed and Capture -->
            <div id="camera-section">
                <video id="camera" autoplay playsinline></video>
                <button id="capture-button" onmousedown="startCapturingImages()" onmouseup="stopCapturingImages()" onmouseleave="stopCapturingImages()">이미지 캡처</button>
            </div>

            <!-- Training Parameters -->
            <div id="training-params">
                <label for="epochs">에포크 수: </label>
                <input type="number" id="epochs" value="15" min="1" max="100">
                <label for="batch-size">배치 크기: </label>
                <input type="number" id="batch-size" value="32" min="1" max="256">
            </div>

            <!-- Train, Export, and Import Model Buttons -->
            <div id="training-buttons">
                <button onclick="trainAndPredict()">모델 학습 시작</button>
                <button onclick="togglePredictImage()">미리보기 토글</button>
                <button onclick="exportModelAsZip()">모델 내보내기 (ZIP)</button>
                <button onclick="document.getElementById('model-upload').click()">모델 불러오기 (ZIP)</button>
                <input type="file" id="model-upload" onchange="importModel(event)" style="display:none" />
            </div>

            <!-- Training Progress -->
            <div id="progress-section">
                <p id="training-progress">학습이 시작되지 않았습니다</p>
                <progress id="progress-bar" value="0" max="100"></progress>
            </div>

            <!-- Prediction Result -->
            <div id="prediction-section">
                <h3>예측 결과:</h3>
                <p id="prediction-result">아직 예측이 없습니다</p>
                <p id="preview-status" style="visibility: hidden;"></p>
            </div>
        </div>
    </div>

    <script src="static/index.js?ver=0002"></script>
</body>
</html>
